def fermat_primality_test(n, a=2):
    """
    Тест Ферма для проверки простоты числа n с основанием a.

    Идея:
    Если n — простое число, то по малой теореме Ферма для любого a, взаимно простого с n, 
    должно выполняться: a^(n-1) ≡ 1 (mod n).

    Алгоритм:
    - Вычисляем a^(n-1) по модулю n.
    - Если результат равен 1, то n, возможно, простое.
    - Иначе — точно составное.

    Важно:
    Тест Ферма — вероятностный. Некоторые составные числа (числа Карлмайкла) проходят этот тест.

    Параметры:
    - n — проверяемое число.
    - a — основание (по умолчанию 2).
    """
    if pow(a, n - 1, n) == 1:
        return True
    return False

# Примеры:
print("Является ли 99 простым? Ответ:", fermat_primality_test(99))    # False — 99 составное
print("Является ли 561 простым? Ответ:", fermat_primality_test(561))  # True — 561 — число Карлмайкла (ложноположительный)
print("Является ли 17 простым? Ответ:", fermat_primality_test(17))    # True — 17 простое

input()  # Чтобы программа не закрывалась сразу
